(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{137:function(e,t,n){"use strict";n.r(t),t.default="data:image/png;base64,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"},61:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return l})),n.d(t,"toc",(function(){return a})),n.d(t,"default",(function(){return s}));var r=n(3),o=n(7),i=(n(0),n(97)),c={id:"returning_json_errors_from_sitecore_mvc_controllers",title:"Returning JSON errors from Sitecore MVC controllers"},l={unversionedId:"returning_json_errors_from_sitecore_mvc_controllers",id:"returning_json_errors_from_sitecore_mvc_controllers",isDocsHomePage:!1,title:"Returning JSON errors from Sitecore MVC controllers",description:"ASP.NET MVC gives us IExceptionFilter, with which we can create custom, global exception handlers to apply to controller actions.",source:"@site/docs/2017_returning_json_errors.md",slug:"/returning_json_errors_from_sitecore_mvc_controllers",permalink:"/returning_json_errors_from_sitecore_mvc_controllers",version:"current",sidebar:"someSidebar",previous:{title:"Finding the current Action name from an MVC pipeline processor",permalink:"/finding_action_name_from_mvc_processor"},next:{title:"Error - Could not find method Process.Pipeline",permalink:"/could_not_find_process_pipeline"}},a=[],p={toc:a};function s(e){var t=e.components,c=Object(o.a)(e,["components"]);return Object(i.b)("wrapper",Object(r.a)({},p,c,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"ASP.NET MVC gives us ",Object(i.b)("inlineCode",{parentName:"p"},"IExceptionFilter"),", with which we can create custom, global exception handlers to apply to controller actions."),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-csharp"}),"public class ExceptionLoggingFilter : FilterAttribute, IExceptionFilter\n{\n    public void OnException(ExceptionContext filterContext)\n    {\n        // filterContext now contains lots of information about our exception, controller, action, etc\n        filterContext.Exception.Message;\n        filterContext.Exception.StackTrace;\n        filterContext.Controller.GetType().Name;\n        filterContext.Result.GetType().Name;\n        UserAgent = filterContext.HttpContext.Request.UserAgent;\n    }\n}\n")),Object(i.b)("p",null,"We can apply this filter to all Action methods, by adding our filter to the list of global filters:"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-csharp"}),"public class FilterConfig {\n    public static void RegisterGlobalFilters(GlobalFilterCollection filters) {\n        filters.Add(new ExceptionLoggingFilter());\n    }\n}\n")),Object(i.b)("p",null,"and wiring this up to our application in our ",Object(i.b)("inlineCode",{parentName:"p"},"Application_Start")," method:"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-csharp"}),"FilterConfig.RegisterGlobalFilters(GlobalFilters.Filters);\n")),Object(i.b)("p",null,"In Sitecore"),Object(i.b)("p",null,"As you may expect, Sitecore exposes this functionality as pipeline processors. Sitecore defined a custom ",Object(i.b)("inlineCode",{parentName:"p"},"IExceptionFilter")," implementation (see our snippet above) which kicks off the mvc.exception pipeline, passing along the ",Object(i.b)("inlineCode",{parentName:"p"},"ExceptionContext")," object."),Object(i.b)("p",null,"As client developers, it is our job to create an appropriate processor to accept the ",Object(i.b)("inlineCode",{parentName:"p"},"ExceptionContext")," and do something with it. Let\u2019s run through an example where we want to return a JSON representation of the error, loaded with as much useful information as possible."),Object(i.b)("p",null,"For more reading on Sitecore controller actions returning JSON, have a look at ",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"https://community.sitecore.net/technical_blogs/b/sitecorejohn_blog/posts/use-json-and-mvc-to-retrieve-item-data-with-the-sitecore-asp-net-cms"}),"John West\u2019s post")),Object(i.b)("p",null,"So, first up, create an empty handler class, which inherits from ",Object(i.b)("inlineCode",{parentName:"p"},"ExceptionProcessor"),":"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-csharp"}),"public class JSONExceptionHandler :\n\nSitecore.Mvc.Pipelines.MvcEvents.Exception.ExceptionProcessor\n{\n    public override void Process(Sitecore.Mvc.Pipelines.MvcEvents.Exception.ExceptionArgs args)\n    {\n\n    }\n}\n")),Object(i.b)("p",null,"Create a Web.config include, to add this processor to the mvc.exception pipeline:"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-xml"}),'<configuration xmlns:patch="http://www.sitecore.net/xmlconfig/">\n  <sitecore>\n    <pipelines>\n      <mvc.exception>\n        <processor type="Bleep.Handlers.JSONExceptionHandler, Bleep.Handlers"/>\n      </mvc.exception>\n    </pipelines>\n  </sitecore>\n</configuration>\n')),Object(i.b)("p",null,"Ok! Now our ",Object(i.b)("inlineCode",{parentName:"p"},"JSONExceptionHandler")," class will be called each time an exception occurs in MVC code. So, let\u2019s grab all the detail we can from the ",Object(i.b)("inlineCode",{parentName:"p"},"ExceptionContext")," class and return it as JSON:"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-csharp"}),'public override void Process(Sitecore.Mvc.Pipelines.MvcEvents.Exception.ExceptionArgs args)\n{\n    var filterContext = args.ExceptionContext;\n \n    filterContext.Result = new JsonResult\n    {\n        JsonRequestBehavior = JsonRequestBehavior.AllowGet,\n                  Data = new\n          {\n                Message = filterContext.Exception.Message,\n                StackTrace = filterContext.Exception.StackTrace,\n                Controller = filterContext.Controller.GetType().Name,\n                Result = filterContext.Result.GetType().Name,\n                UserAgent = filterContext.HttpContext.Request.UserAgent,\n                ItemName = args.PageContext.Item.Name,\n                Device = args.PageContext.Device.DeviceItem.Name,\n                User = filterContext.HttpContext.User.Identity.Name\n          }\n    };\n \n    filterContext.ExceptionHandled = true;\n \n    // Log the error\n    Sitecore.Diagnostics.Log.Error("MVC exception processing " \n                    + Sitecore.Context.RawUrl, args.ExceptionContext.Exception, this);\n}\n')),Object(i.b)("p",null,"This will produce a result such as:"),Object(i.b)("p",null,Object(i.b)("img",{alt:"img",src:n(137).default})),Object(i.b)("p",null,"Happy hacking!"))}s.isMDXComponent=!0},97:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return x}));var r=n(0),o=n.n(r);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=o.a.createContext({}),s=function(e){var t=o.a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=s(e.components);return o.a.createElement(p.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},m=o.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,c=e.parentName,p=a(e,["components","mdxType","originalType","parentName"]),u=s(n),m=r,x=u["".concat(c,".").concat(m)]||u[m]||b[m]||i;return n?o.a.createElement(x,l(l({ref:t},p),{},{components:n})):o.a.createElement(x,l({ref:t},p))}));function x(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,c=new Array(i);c[0]=m;var l={};for(var a in t)hasOwnProperty.call(t,a)&&(l[a]=t[a]);l.originalType=e,l.mdxType="string"==typeof e?e:r,c[1]=l;for(var p=2;p<i;p++)c[p]=n[p];return o.a.createElement.apply(null,c)}return o.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"}}]);