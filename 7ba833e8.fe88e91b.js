(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{162:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/2017_elasticon_1-5b25c70cc0128543699118c34df8266f.jpg"},163:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/2017_elasticon_2-a7b47a9d67022bb9f746d846a4a3bd20.jpg"},164:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/2017_elasticon_3-8abd01c416b07d41b3984b70e0431e14.jpg"},165:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/2017_elasticon_4-61e5b356286f24967d141113d299aebe.jpg"},166:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/2017_elasticon_5-063a36eb2257e604769a416ade8e775b.jpg"},84:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return o})),a.d(t,"metadata",(function(){return s})),a.d(t,"toc",(function(){return c})),a.d(t,"default",(function(){return u}));var n=a(3),i=a(7),r=(a(0),a(99)),o={id:"elasticon",title:"Elasticon London 2017 (for a Sitecore developer)"},s={unversionedId:"elasticon",id:"elasticon",isDocsHomePage:!1,title:"Elasticon London 2017 (for a Sitecore developer)",description:"Even though Elasticsearch is built on the same foundations (Apache Lucene) as Solr, we in the Sitecore community don\u2019t see a lot of cases where Solr or Coveo have been replaced by Elasticsearch as the main search component.",source:"@site/docs/2017_elasticon.md",slug:"/elasticon",permalink:"/elasticon",version:"current",sidebar:"someSidebar",previous:{title:"Visualising Sitecore Analyzers",permalink:"/sitecore_analyzers"},next:{title:"Patching the Sitecore Commands.config file",permalink:"/patching_sitecore_commands_config"}},c=[{value:"Elasticsearch 6.0",id:"elasticsearch-60",children:[]},{value:"Anomaly Detection",id:"anomaly-detection",children:[]},{value:"Opcode",id:"opcode",children:[]},{value:"Machine Learning",id:"machine-learning",children:[]},{value:"Elasticsearch SQL",id:"elasticsearch-sql",children:[]},{value:"Summary",id:"summary",children:[]}],l={toc:c};function u(e){var t=e.components,o=Object(i.a)(e,["components"]);return Object(r.b)("wrapper",Object(n.a)({},l,o,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"Even though Elasticsearch is built on the same foundations (Apache Lucene) as Solr, we in the Sitecore community don\u2019t see a lot of cases where Solr or Coveo have been replaced by Elasticsearch as the main search component."),Object(r.b)("p",null,"Today I\u2019ve been at Elasticon London 2017 and have been soaking up new product releases by Elastic. Here\u2019s some notes I scribbled and points which would be interesting to the Sitecore world."),Object(r.b)("h3",{id:"elasticsearch-60"},"Elasticsearch 6.0"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Elasticsearch 6.0 is the next major release \u2013 but no firm release date has been set just yet. The official answer right now is \u201ccoming soon\u201d."),Object(r.b)("li",{parentName:"ul"},"Elastic have recognised how painful the upgrade process is \u2013 particularly between 2.x and 5.x. When performing the upgrade, you must re-index all of your data to make it 5.x compatible \u2013 a huge job on large clusters!"),Object(r.b)("li",{parentName:"ul"},"While the 2.x to 5.x upgrade path isn\u2019t going to get much easier, Elastic are making sure that the 5.x to 6.x upgrade path doesn\u2019t require you to re-index all data, or take nodes offline."),Object(r.b)("li",{parentName:"ul"},"The .NET client creates REST requests with a JSON payload which proxies requests and responses between your code and the Elasticsearch cluster. This is the client model they\u2019re sticking with, and are actually rewriting the native Java client (which currently doesn\u2019t generate REST requests) to be more in line with the .NET client."),Object(r.b)("li",{parentName:"ul"},"When it comes to swapping out Solr and Coveo for Elasticsearch, I think this would be a very individual decision based on the needs of your project.")),Object(r.b)("p",null,Object(r.b)("img",{alt:"img",src:a(162).default})),Object(r.b)("p",null,Object(r.b)("img",{alt:"img",src:a(163).default})),Object(r.b)("h3",{id:"anomaly-detection"},"Anomaly Detection"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"You can now create and set off unsupervised machine learning jobs to continually parse any data and highlight anomalies."),Object(r.b)("li",{parentName:"ul"},"The engineer I spoke to said usually \u201caround three weeks\u201d of learning will be enough to begin pulling out anomalies."),Object(r.b)("li",{parentName:"ul"},"This could have applications ranging from security (detecting usual IP or DNS activity), to marketing: spotting if a \u2018suspicious\u2019 user journey is taking place (whatever this may be!) or perhaps highlighting if a user is stuck or lost."),Object(r.b)("li",{parentName:"ul"},"The Elastic stack uses Beats \u2013 agents which can monitor a set of files, database, or network packets and streams the data into an Elasticsearch instance / cluster.")),Object(r.b)("p",null,Object(r.b)("img",{alt:"img",src:a(164).default})),Object(r.b)("h3",{id:"opcode"},"Opcode"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Elastic founder and CEO Shay Banon announced during his keynote that Elastic have acquired Opbeat, a Copenhagen based company whose product adds monitoring and profiling to JavaScript applications (think Node.js, React and Angular)."),Object(r.b)("li",{parentName:"ul"},"While this might have limited applicability for a lot of Sitecore solutions (where React and Angular might not be the norm), the interesting thing here will be to wait and see how Elastic fit Opbeat into their stack. My guess would be that they\u2019ll extend the product and make it a more general-purpose monitoring and profiling tool.")),Object(r.b)("p",null,Object(r.b)("img",{alt:"img",src:a(165).default})),Object(r.b)("h3",{id:"machine-learning"},"Machine Learning"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Elastic\u2019s Steve Dodson (who heads up the Machine Learning product) showed us the current offering, which again is centred around anomaly detection."),Object(r.b)("li",{parentName:"ul"},"Most of Elastic\u2019s demo use-cases for anomaly detection are for ops-level indicators like 404\u2019s, 500s, response time, DDOS detection, and so on. Machine Learning kicks in to ignore \u2018regular\u2019 surges such as an increase in page response time during weekly batch jobs \u2013 but still alerting if the surge is stronger than usual."),Object(r.b)("li",{parentName:"ul"},"With some fiddling, you could set up an anomaly detection profiler which tolerates a certain amount of server errors after a code release (and assumes you\u2019ll fix them), but alerts you if it looks like you\u2019ve broken something really big."),Object(r.b)("li",{parentName:"ul"},"There was a preview of forecasting, a feature of the upcoming Elasticsearch 6.0. Forecasting does exactly as you\u2019d expect \u2013 look at historical data and predict statistics for a future window.")),Object(r.b)("p",null,Object(r.b)("img",{alt:"img",src:a(166).default})),Object(r.b)("h3",{id:"elasticsearch-sql"},"Elasticsearch SQL"),Object(r.b)("p",null,"Being an ex-database nerd, I loved this session. I\u2019m not sure how the wider search community are going to feel about writing SQL again, but here\u2019s what Elastic have in development:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"A SQL-like DSL which is 50% ANSI SQL and 50% Elasticsearch-specific syntax additions."),Object(r.b)("li",{parentName:"ul"},"You can run queries like SHOW TABLES to list all indexes, DESCRIBE my_index to show fields (columns) and datatypes. You can run search queries like this:")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-sql"}),"SELECT * FROM my_index WHERE QUERY('+chris perks')\n")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"All SQL queries translate into the same old Elasticsearch QueryDSL"),Object(r.b)("li",{parentName:"ul"},"Other constructs they\u2019re including are GROUP BY, HAVING, even JOINs are in there \u2013 all translating to their equivalent Elasticsearch QueryDSL commands."),Object(r.b)("li",{parentName:"ul"},"You can even wrap SQL in JSON and use it via a REST call ",Object(r.b)("em",{parentName:"li"},"confused face emoji")),Object(r.b)("li",{parentName:"ul"},"This is still heavily in development and won\u2019t be released for a while.")),Object(r.b)("h3",{id:"summary"},"Summary"),Object(r.b)("p",null,"There\u2019s plenty of overlap with what the Elastic stack offers, and what you\u2019ll already have set up with Sitecore, Solr, and xDB. There\u2019ll be a fair amount of plumbing work to get Elasticsearch set up properly with Sitecore, whereas you get this out of the box for Solr and/or Coveo."),Object(r.b)("p",null,"As Elastic expand, they\u2019re adding many new tools and capabilities to their stack, so it\u2019s definitely not correct to see Elasticsearch as a like-for-like replacement for Solr or Coveo or parts of xDB."),Object(r.b)("p",null,"I can see use cases for engaging Elasticsearch alongside your current setup, if you either need a particular Elastic capability which Sitecore / Solr doesn\u2019t give you (such as Machine Learning, or streaming data). Or, you have more faith in the scaling capability of Elasticsearch than you do Sitecore and Solr."))}u.isMDXComponent=!0},99:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return b}));var n=a(0),i=a.n(n);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var l=i.a.createContext({}),u=function(e){var t=i.a.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},d=function(e){var t=u(e.components);return i.a.createElement(l.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},p=i.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,o=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),d=u(a),p=n,b=d["".concat(o,".").concat(p)]||d[p]||h[p]||r;return a?i.a.createElement(b,s(s({ref:t},l),{},{components:a})):i.a.createElement(b,s({ref:t},l))}));function b(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,o=new Array(r);o[0]=p;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:n,o[1]=s;for(var l=2;l<r;l++)o[l]=a[l];return i.a.createElement.apply(null,o)}return i.a.createElement.apply(null,a)}p.displayName="MDXCreateElement"}}]);