<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Chris Perks Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Chris Perks Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-190277111-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">Production Sitecore 10 AWS EKS deploys - connecting VPCs | Chris Perks</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Production Sitecore 10 AWS EKS deploys - connecting VPCs | Chris Perks"><meta data-react-helmet="true" name="description" content="The next step in readying a Kubernetes-powered AWS EKS Sitecore 10 deployment for deployment is moving the data services (Solr, MS SQL) outside of the Kubernetes cluster."><meta data-react-helmet="true" property="og:description" content="The next step in readying a Kubernetes-powered AWS EKS Sitecore 10 deployment for deployment is moving the data services (Solr, MS SQL) outside of the Kubernetes cluster."><meta data-react-helmet="true" property="og:url" content="https://chrisperks.github.io/sitecore_10_production_aws_deploys"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://chrisperks.github.io/sitecore_10_production_aws_deploys"><link rel="stylesheet" href="/styles.3751d533.css">
<link rel="preload" href="/styles.60521670.js" as="script">
<link rel="preload" href="/runtime~main.d74302d3.js" as="script">
<link rel="preload" href="/main.10b4ea9d.js" as="script">
<link rel="preload" href="/1.a390ae16.js" as="script">
<link rel="preload" href="/2.730d4a20.js" as="script">
<link rel="preload" href="/34.8fa07c1d.js" as="script">
<link rel="preload" href="/935f2afb.f103acda.js" as="script">
<link rel="preload" href="/17896441.cafa2c5b.js" as="script">
<link rel="preload" href="/b1e4bf35.48453123.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Chris Perks</strong></a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Chris Perks</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Production Sitecore 10 AWS EKS deploys - connecting VPCs</h1></header><div class="markdown"><p>The next step in readying a Kubernetes-powered AWS EKS Sitecore 10 deployment for deployment is moving the data services (Solr, MS SQL) outside of the Kubernetes cluster. </p><p>While the Kubernetes product (develops a capability)[https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/] for running stateful workloads, it is still best practice to keep Kubernetes for your stateless compute tasks, and run databases outside of the cluster. </p><p>Options on AWS </p><p>There are two <em>mainstream</em> options available to host your SQL Server instance on AWS. Both have pros and cons, and we&#x27;ll quickly summarise here. </p><p>AWS RDS</p><p>RDS is a managed database product. A SQL Server instance can be provisioned through the usual channels (AWS Console, AWS CLI) and the infrastructure management (including backups) is taken care of. </p><p>Pros</p><ul><li>Low administration burden, easy scaling, easy multi-AZ setup, automated backups and snapshots</li></ul><p>Cons</p><ul><li>AWS does not grant you an administrator account with all abilities. Running the Sitecore 10 Kubernetes mssql-init job against an RDS database will surface many permissions errors.</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">The database settings cannot be modified. You must be a SysAdmin to apply these settings.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Procedure sys.sp_configure, Line 105</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">User does not have permission to perform this action.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Deployed Sitecore.Experienceforms database</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Start creating database &#x27;Sitecore.Master&#x27; with azure elastic pool &#x27;pool&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Msg 102, Level 15, State 1, Server, Line 2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Incorrect syntax near &#x27;(&#x27;.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Msg 12824, Level 16, State 1, Server, Line 1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">The sp_configure value &#x27;contained database authentication&#x27; must be set to 1 in order to alter a contained database.  You may need to use RECONFIGURE to set the value_in_use.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Msg 5069, Level 16, State 1, Server , Line 1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ALTER DATABASE statement failed.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">You can only create a user with a password in a contained database.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Msg 15410, Level 11, State 1, Server, Procedure sp_addrolemember, Line 35</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">The sp_configure value &#x27;contained database authentication&#x27; must be set to 1 in order to alter a contained database.  You may need to use RECONFIGURE to set the value_in_use.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">You do not have permission to run the RECONFIGURE statement</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Workarounds exist, but the main path to production deployment is still the import of an existing Sitecore database into RDS - which won&#x27;t suit all workflows. </p><p>SQL Server on Amazon EC2 instances</p><p>Both Windows and Linux instance can now run SQL Server, so this is a great fallback option for when you don&#x27;t want to re-work installation processes to be compatible with RDS. </p><p>Pros</p><ul><li>Full control, simply a database in the cloud</li><li>Can use existing Sitecore 10 database initialisation methods</li></ul><p>Cons</p><ul><li>Administration burden. Backups, scaling, failover - they&#x27;re all on you. </li></ul><p>A common configuration - separate VPCs</p><p>Whichever approach you choose, it is a common security and management practice to run your database workloads in a separate VPC to your EKS cluster. You may want the safety of a different security profile for your database, or monitor the VPCs using separate tooling. </p><p>Connecting an RDS VPC to your Sitecore EKS cluster</p><ol><li>Install jq to Powershell - we&#x27;ll use this to view the outputs of our AWS service creation</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">chocolatey install jq</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">aws ec2 create-vpc --cidr-block 10.0.0.0/24 | jq &#x27;{VpcId:.Vpc.VpcId,CidrBlock:.Vpc.CidrBlock}&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;VpcId&quot;: &quot;vpc-0905280971bf101a2&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;CidrBlock&quot;: &quot;10.0.0.0/24&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$Env:RDS_VPC_ID=&quot;vpc-0b6fb5c403d053bb3&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">aws ec2 create-subnet --availability-zone &quot;eu-north-1b&quot; --vpc-id $Env:RDS_VPC_ID --cidr-block 10.0.0.0/25 | jq &#x27;{SubnetId:.Subnet.SubnetId,AvailabilityZone:.Subnet.AvailabilityZone,CidrBlock:.Subnet.CidrBlock,VpcId:.Subnet.VpcId}&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">aws ec2 create-subnet --availability-zone &quot;eu-north-1a&quot; --vpc-id $Env:RDS_VPC_ID --cidr-block 10.0.0.128/25 | jq &#x27;{SubnetId:.Subnet.SubnetId,AvailabilityZone:.Subnet.AvailabilityZone,CidrBlock:.Subnet.CidrBlock,VpcId:.Subnet.VpcId}&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">aws ec2 describe-route-tables --filters Name=vpc-id,Values=$Env:RDS_VPC_ID | jq &#x27;.RouteTables[0].RouteTableId&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$Env:RDS_ROUTE_TABLE_ID=&quot;rtb-0ff833750c0039dbf&quot;                                                             </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">aws ec2 associate-route-table --route-table-id rtb-0ff833750c0039dbf --subnet-id subnet-0fe72fea5487d0daf</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">aws rds create-db-subnet-group --db-subnet-group-name  &quot;DemoDBSubnetGroup&quot; --db-subnet-group-description &quot;Demo DB Subnet Group&quot; --subnet-ids &quot;subnet-0fe72fea5487d0daf&quot; &quot;subnet-0f3201b8ea9fb1147&quot; | jq &#x27;{DBSubnetGroupName:.DBSubnetGroup.DBSubnetGroupName,VpcId:.DBSubnetGroup.VpcId,Subnets:.DBSubnetGroup.Subnets[].SubnetIdentifier}&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">aws ec2 create-security-group --group-name DemoRDSSecurityGroup --description &quot;Demo RDS security group&quot; --vpc-id $Env:RDS_VPC_ID</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$Env:RDS_VPC_SECURITY_GROUP_ID=&quot;sg-045d5de71c4b7ff17&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">aws rds create-db-instance `</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   --db-instance-identifier demordsmssqldbdbinstance `</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   --allocated-storage 20 `</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   --db-instance-class db.t3.small `</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   --engine sqlserver-ex `</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   --engine-version &quot;15.00.4073.23.v1&quot; `</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   --master-username admin `</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   --storage-type standard `</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   --master-user-password zXQQVXvcg2CTf2bH `</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   --no-publicly-accessible `</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   --vpc-security-group-ids $Env:RDS_VPC_SECURITY_GROUP_ID `</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   --db-subnet-group-name &quot;demodbsubnetgroup&quot; `</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   --availability-zone eu-north-1b `</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   --port 1433 | jq &#x27;{DBInstanceIdentifier:.DBInstance.DBInstanceIdentifier,Engine:.DBInstance.Engine,DBName:.DBInstance.DBName,VpcSecurityGroups:.DBInstance.VpcSecurityGroups,EngineVersion:.DBInstance.EngineVersion,PubliclyAccessible:.DBInstance.PubliclyAccessible}&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># sql-service.yaml </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">apiVersion: v1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">kind: Service</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">metadata:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  labels:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    app: sql-service</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  name: sql-service</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">spec:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  externalName: demordsmssqldbdbinstance.ccysvgfv15nu.eu-north-1.rds.amazonaws.com</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  selector:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    app: sql-service</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  type: ExternalName</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">status:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  loadBalancer: {}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl apply -f .\sql-service.yaml</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$Env:VPC_PEERING_CONNECTION_ID=&quot;pcx-05626fc86f371fd76&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">aws ec2 describe-route-tables --filters Name=&quot;tag:aws:cloudformation:logical-id&quot;,Values=&quot;PublicRouteTable&quot; | jq &#x27;.RouteTables[0].RouteTableId&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$Env:EKS_ROUTE_TABLE_ID=&quot;rtb-0bf8ca168c87e02c9&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">aws ec2 create-route --route-table-id $Env:EKS_ROUTE_TABLE_ID --destination-cidr-block 10.0.0.0/24 --vpc-peering-connection-id $Env:VPC_PEERING_CONNECTION_ID</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">aws ec2 create-route --route-table-id $Env:RDS_ROUTE_TABLE_ID --destination-cidr-block 192.168.0.0/16 --vpc-peering-connection-id $Env:VPC_PEERING_CONNECTION_ID</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">aws ec2 authorize-security-group-ingress --group-id $Env:RDS_VPC_SECURITY_GROUP_ID --protocol tcp --port 1433 --cidr 192.168.0.0/16</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">My Links</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.linkedin.com/in/christofr/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn</a></li><li class="footer__item"><a href="https://github.com/christofur" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Â© 2021 Chris Perks</div></div></div></footer></div>
<script src="/styles.60521670.js"></script>
<script src="/runtime~main.d74302d3.js"></script>
<script src="/main.10b4ea9d.js"></script>
<script src="/1.a390ae16.js"></script>
<script src="/2.730d4a20.js"></script>
<script src="/34.8fa07c1d.js"></script>
<script src="/935f2afb.f103acda.js"></script>
<script src="/17896441.cafa2c5b.js"></script>
<script src="/b1e4bf35.48453123.js"></script>
</body>
</html>