(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{101:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return d}));var r=n(0),a=n.n(r);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=a.a.createContext({}),u=function(e){var t=a.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},h=function(e){var t=u(e.components);return a.a.createElement(l.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},p=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),h=u(n),p=r,d=h["".concat(i,".").concat(p)]||h[p]||b[p]||o;return n?a.a.createElement(d,s(s({ref:t},l),{},{components:n})):a.a.createElement(d,s({ref:t},l))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=p;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var l=2;l<o;l++)i[l]=n[l];return a.a.createElement.apply(null,i)}return a.a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},81:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return s})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var r=n(3),a=n(7),o=(n(0),n(101)),i={id:"search_engine_not_database",title:"When Does A Search Database Become A Search Engine?"},s={unversionedId:"search_engine_not_database",id:"search_engine_not_database",isDocsHomePage:!1,title:"When Does A Search Database Become A Search Engine?",description:"Modern databases have a wealth of features to support the querying of text data. We can employ fuzzy search, proximity search, stemming and word-breaking to take natural language queries and return matching records with high confidence. While returning all matching records is a good start, a search engine aims to ensure the most relevant results are shown first. In a great search experience, the most relevant match to your search query should appear in the first few items. How is this achieved?",source:"@site/docs/2020_search_engine_not_database.md",slug:"/search_engine_not_database",permalink:"/search_engine_not_database",version:"current",sidebar:"someSidebar",previous:{title:"Sustainable Sitecore - reducing CO2 emissions in your Sitecore stack",permalink:"/sitecore_sustainability_benefits"},next:{title:"Create a custom Solr index in Sitecore 9",permalink:"/custom_solr_index"}},c=[],l={toc:c};function u(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Modern databases have a wealth of features to support the querying of text data. We can employ fuzzy search, proximity search, stemming and word-breaking to take natural language queries and return matching records with high confidence. While returning all matching records is a good start, a search engine aims to ensure the most relevant results are shown first. In a great search experience, the most relevant match to your search query should appear in the first few items. How is this achieved?"),Object(o.b)("p",null,"Imagine we manage a searchable catalogue of movies and TV shows:"),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"Schema 1.0"),":"),Object(o.b)("p",null,"Where we search for an exact phrase, this schema does the job:"),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"search: lion king")),Object(o.b)("p",null,"Most general databases could service a query by breaking a phrase into individual terms, searching for a match in one or more columns, and with some configuration, even support filters:"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{}),"search : simba lion\nsearch : africa lion\nsearch : lion year:1994\n")),Object(o.b)("p",null,"However, this schema won\u2019t do such a good job on the following natural queries:"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{}),"search : documentaries about lions\nsearch: 90s funny lion movies\n")),Object(o.b)("p",null,"For both of the above queries, we can only match the term \u2018lion\u2019\u2014all other context given in the query is lost."),Object(o.b)("h4",{id:"from-search-database-to-search-engine"},"From Search Database To Search Engine"),Object(o.b)("p",null,"Search engines can deliver us greater relevancy in our search results. Out of the box, popular products such as Solr and Elasticsearch give us multi-field searching, and relevancy scoring based on Information Retrieval ranking functions such as TF/IDF or BM25. TF/IDF gives a greater score to query terms matched in shorter fields, and so:"),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"search: lion")),Object(o.b)("p",null,"Without adding to the schema, we can fine-tune our relevancy scoring by applying a boost factor to fields we know are important. From our own searching experience, we understand that a query term matched in the \u2018title\u2019 field is a powerful signal\u2014so we can apply a scoring boost to that field which helps these results stand out:"),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"Schema 1.1")),Object(o.b)("p",null,"Note: in production situations, boosts are applied at query-time, rather than being fixed at index-time."),Object(o.b)("p",null,"Let\u2019s re-run the search, with boosts applied:"),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"search: lion")),Object(o.b)("p",null,"We\u2019ve ensured that queries matching terms in the \u2018title\u2019 field score highly. However, our other queries are still not faring so well:"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{}),"search : documentaries about lions\nsearch : 90s funny lion movies\n")),Object(o.b)("h4",{id:"signal-modelling"},"Signal Modelling"),Object(o.b)("p",null,"At this point, we begin to push up against the limits of our current schema. No matter the config trickery, we don\u2019t have enough descriptive information about our content to handle these natural queries. To get the best from our search engine, we can embark on a process of enriching our schema with more descriptive fields, and tuning the boosts on those fields to ensure our results fit our users\u2019 expectations. While search indexes are typically built from a source database, we should apply some careful consideration to exactly which parts of the source data we want to include in the index. To increase the relevancy of our results, we want fewer, better-tuned index fields."),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},"The motivation for choosing which source fields to include in your index should be directed by understanding that search fields should each be contributing highly to a majority of searches. ")),Object(o.b)("p",null,Object(o.b)("em",{parentName:"p"},"Doug Turnbull, Modeling Signals to Build Real Semantic Search")),Object(o.b)("p",null,"Signal Modelling refers to the process of choosing and applying boost (weighting) search fields, with a desire to contribute optimally to scoring."),Object(o.b)("p",null,"From the list of available fields, let\u2019s carefully pick a few:"),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"Schema 2.0")),Object(o.b)("p",null,"Let\u2019s create two new schema fields which will help match records to our search query:"),Object(o.b)("p",null,"These new fields are populated during indexing, by converting the value of an existing field to a set of new, search-friendly values:"),Object(o.b)("p",null,"So now, our schema looks like:"),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"Schema 3.0")),Object(o.b)("p",null,"We now have an extremely powerful, tunable approach to search which is centred around an understanding of how heavily a field features in the natural query style of our users."),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"search : 90s funny lion movies")),Object(o.b)("h4",{id:"what-next"},"What Next?"),Object(o.b)("p",null,"While flexible schemas and boosting are crucial search engine features which allowed us to ensure ranking matches our user\u2019s expectations, our understanding of the content domain and the search style of our users allowed us to pick the most appropriate fields and choose boost levels. This begins a cycle of tuning and observation, learning more about your content, watching how users are searching and ultimately how quickly they found relevant results. Observe, re-tune, re-deploy and re-observe."),Object(o.b)("p",null,"A lot of work is happening in the search community to apply intelligent and self-learning algorithms to relevancy work. In September 2019, Trey Granger of ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://lucidworks.com/"}),"Lucidworks")," began work on an authoritative guide to the application of ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://www.manning.com/books/ai-powered-search"}),"AI techniques on search"),"."))}u.isMDXComponent=!0}}]);