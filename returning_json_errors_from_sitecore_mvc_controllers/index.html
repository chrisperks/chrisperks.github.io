<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Chris Perks Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Chris Perks Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-190277111-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">Returning JSON errors from Sitecore MVC controllers | Chris Perks</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Returning JSON errors from Sitecore MVC controllers | Chris Perks"><meta data-react-helmet="true" name="description" content="ASP.NET MVC gives us IExceptionFilter, with which we can create custom, global exception handlers to apply to controller actions."><meta data-react-helmet="true" property="og:description" content="ASP.NET MVC gives us IExceptionFilter, with which we can create custom, global exception handlers to apply to controller actions."><meta data-react-helmet="true" property="og:url" content="https://chrisperks.github.io/returning_json_errors_from_sitecore_mvc_controllers"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://chrisperks.github.io/returning_json_errors_from_sitecore_mvc_controllers"><link rel="stylesheet" href="/styles.3751d533.css">
<link rel="preload" href="/styles.74e6b20a.js" as="script">
<link rel="preload" href="/runtime~main.734f8df6.js" as="script">
<link rel="preload" href="/main.d9d5bb79.js" as="script">
<link rel="preload" href="/1.a1f966e3.js" as="script">
<link rel="preload" href="/2.94c44bcd.js" as="script">
<link rel="preload" href="/35.a09bd760.js" as="script">
<link rel="preload" href="/935f2afb.dee47e69.js" as="script">
<link rel="preload" href="/17896441.91367a3b.js" as="script">
<link rel="preload" href="/065f1cca.9e4dbb3c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Chris Perks</strong></a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">üåû</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Chris Perks</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">_</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/">Home</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!"> 2021</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/sitecore_10_zookeeper_docker">Adding ZooKeeper to your Sitecore 10 Docker install</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/sitecore_10_production_aws_deploys">Production Sitecore 10 AWS EKS deploys - connecting VPCs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/load_sitecore_yaml_into_terraform">Loading Sitecore 10 Kubernetes specifications from Terraform for turbocharged CI/CD</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/sitecore_deploy_to_kubernetes_eks">Deploy Sitecore 10 to Kubernetes with AWS EKS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/sitecore_sustainability_benefits">Sustainable Sitecore - reducing CO2 emissions in your Sitecore stack</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!"> 2020</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/search_engine_not_database">When Does A Search Database Become A Search Engine?</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!"> 2019</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/custom_solr_index">Create a custom Solr index in Sitecore 9</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!"> 2018</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/xconnect_error">xConnect error when using Deploy Marketing Definitions tool</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/xconnect_local_machine">Enable xConnect on a local developer machine</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/slow_renderings">Hundreds of renderings? Your first-page-load could be sloooow</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/solr_highlights">Sitecore Search Highlighting with Solr - the highlights</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/partial_view_not_found">Sitecore 9  - The partial view was not found or no view engine supports the searched locations.</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/contentsearch_quirks">Sitecore 9 - ContentSearch Solr query quirks with spaces and wildcards</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/2018_solr_error">Sitecore Solr Error - Processing Field Name. Resolving Multiple Field found on Solr Field Map. No matching template field on index field name, return type ‚ÄòString‚Äô and field type ‚Äù</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/unicorn_configs">Digging into Unicorn configs in Sitecore Habitat</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/missing_uniquekey">Sitecore Solr setup - Document is missing mandatory uniqueKey field id</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!"> 2017</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/lucene_explain">Explaining Lucene explain</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/sitecore_analyzers">Visualising Sitecore Analyzers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/elasticon">Elasticon London 2017 (for a Sitecore developer)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/patching_sitecore_commands_config">Patching the Sitecore Commands.config file</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/workaround_missing_viewdata_sitecore_mvc">A workaround for missing ViewData in Sitecore MVC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/finding_action_name_from_mvc_processor">Finding the current Action name from an MVC pipeline processor</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/returning_json_errors_from_sitecore_mvc_controllers">Returning JSON errors from Sitecore MVC controllers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/could_not_find_process_pipeline">Error - Could not find method Process.Pipeline</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/sitecore_mvc_internals">Sitecore MVC Internals - IControllerActivator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/sitecore_mvc_internals_factory">Sitecore MVC internals - SitecoreControllerFactory</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!"> 2016</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/async_functionality_testing_with_xunit">C# Async functionality testing with xUnit</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Returning JSON errors from Sitecore MVC controllers</h1></header><div class="markdown"><p>ASP.NET MVC gives us <code>IExceptionFilter</code>, with which we can create custom, global exception handlers to apply to controller actions.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-csharp codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">public class ExceptionLoggingFilter : FilterAttribute, IExceptionFilter</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public void OnException(ExceptionContext filterContext)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        // filterContext now contains lots of information about our exception, controller, action, etc</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        filterContext.Exception.Message;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        filterContext.Exception.StackTrace;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        filterContext.Controller.GetType().Name;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        filterContext.Result.GetType().Name;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        UserAgent = filterContext.HttpContext.Request.UserAgent;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>We can apply this filter to all Action methods, by adding our filter to the list of global filters:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-csharp codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">public class FilterConfig {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public static void RegisterGlobalFilters(GlobalFilterCollection filters) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        filters.Add(new ExceptionLoggingFilter());</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>and wiring this up to our application in our <code>Application_Start</code> method:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-csharp codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">FilterConfig.RegisterGlobalFilters(GlobalFilters.Filters);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>In Sitecore</p><p>As you may expect, Sitecore exposes this functionality as pipeline processors. Sitecore defined a custom <code>IExceptionFilter</code> implementation (see our snippet above) which kicks off the mvc.exception pipeline, passing along the <code>ExceptionContext</code> object.</p><p>As client developers, it is our job to create an appropriate processor to accept the <code>ExceptionContext</code> and do something with it. Let‚Äôs run through an example where we want to return a JSON representation of the error, loaded with as much useful information as possible.</p><p>For more reading on Sitecore controller actions returning JSON, have a look at <a href="https://community.sitecore.net/technical_blogs/b/sitecorejohn_blog/posts/use-json-and-mvc-to-retrieve-item-data-with-the-sitecore-asp-net-cms" target="_blank" rel="noopener noreferrer">John West‚Äôs post</a></p><p>So, first up, create an empty handler class, which inherits from <code>ExceptionProcessor</code>:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-csharp codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">public class JSONExceptionHandler :</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Sitecore.Mvc.Pipelines.MvcEvents.Exception.ExceptionProcessor</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public override void Process(Sitecore.Mvc.Pipelines.MvcEvents.Exception.ExceptionArgs args)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Create a Web.config include, to add this processor to the mvc.exception pipeline:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-xml codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">configuration</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name namespace" style="color:rgb(178, 204, 214)">xmlns:</span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">patch</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">http://www.sitecore.net/xmlconfig/</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">sitecore</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">pipelines</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">mvc.exception</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">processor</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">type</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">Bleep.Handlers.JSONExceptionHandler, Bleep.Handlers</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">mvc.exception</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">pipelines</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">sitecore</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">configuration</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Ok! Now our <code>JSONExceptionHandler</code> class will be called each time an exception occurs in MVC code. So, let‚Äôs grab all the detail we can from the <code>ExceptionContext</code> class and return it as JSON:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-csharp codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">public override void Process(Sitecore.Mvc.Pipelines.MvcEvents.Exception.ExceptionArgs args)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    var filterContext = args.ExceptionContext;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    filterContext.Result = new JsonResult</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        JsonRequestBehavior = JsonRequestBehavior.AllowGet,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                  Data = new</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                Message = filterContext.Exception.Message,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                StackTrace = filterContext.Exception.StackTrace,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                Controller = filterContext.Controller.GetType().Name,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                Result = filterContext.Result.GetType().Name,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                UserAgent = filterContext.HttpContext.Request.UserAgent,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                ItemName = args.PageContext.Item.Name,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                Device = args.PageContext.Device.DeviceItem.Name,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                User = filterContext.HttpContext.User.Identity.Name</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    };</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    filterContext.ExceptionHandled = true;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // Log the error</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Sitecore.Diagnostics.Log.Error(&quot;MVC exception processing &quot; </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    + Sitecore.Context.RawUrl, args.ExceptionContext.Exception, this);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>This will produce a result such as:</p><p><img alt="img" src="data:image/png;base64,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"></p><p>Happy hacking!</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/finding_action_name_from_mvc_processor"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ Finding the current Action name from an MVC pipeline processor</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/could_not_find_process_pipeline"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Error - Could not find method Process.Pipeline ¬ª</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">My Links</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.linkedin.com/in/christofr/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn</a></li><li class="footer__item"><a href="https://github.com/christofur" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">¬© 2021 Chris Perks</div></div></div></footer></div>
<script src="/styles.74e6b20a.js"></script>
<script src="/runtime~main.734f8df6.js"></script>
<script src="/main.d9d5bb79.js"></script>
<script src="/1.a1f966e3.js"></script>
<script src="/2.94c44bcd.js"></script>
<script src="/35.a09bd760.js"></script>
<script src="/935f2afb.dee47e69.js"></script>
<script src="/17896441.91367a3b.js"></script>
<script src="/065f1cca.9e4dbb3c.js"></script>
</body>
</html>