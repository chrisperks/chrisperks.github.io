(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{84:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return a})),t.d(n,"metadata",(function(){return c})),t.d(n,"toc",(function(){return l})),t.d(n,"default",(function(){return s}));var r=t(3),i=t(7),o=(t(0),t(97)),a={id:"unicorn_configs",title:"Digging into Unicorn configs in Sitecore Habitat"},c={unversionedId:"unicorn_configs",id:"unicorn_configs",isDocsHomePage:!1,title:"Digging into Unicorn configs in Sitecore Habitat",description:"Sitecore Habitat ships with Unicorn as the serialization utility of choice. Unicorn works in the background during the development of a Sitecore implementation and writes out a YAML copy of templates, renderings and other Sitecore items to disk.",source:"@site/docs/2018_unicorn_configs.md",slug:"/unicorn_configs",permalink:"/unicorn_configs",version:"current",sidebar:"someSidebar",previous:{title:"Sitecore Solr Error - Processing Field Name. Resolving Multiple Field found on Solr Field Map. No matching template field on index field name, return type \u2018String\u2019 and field type \u201d",permalink:"/2018_solr_error"},next:{title:"Sitecore Solr setup - Document is missing mandatory uniqueKey field id",permalink:"/missing_uniquekey"}},l=[],u={toc:l};function s(e){var n=e.components,t=Object(i.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},u,t,{components:n,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Sitecore Habitat ships with Unicorn as the serialization utility of choice. Unicorn works in the background during the development of a Sitecore implementation and writes out a YAML copy of templates, renderings and other Sitecore items to disk.\nYou can then add these YAML (.yml) files to your version control repository, merge changes with other developers and ensure they are picked up / deployed to target environments as part of your continuous integration (CI) pipeline."),Object(o.b)("p",null,"In Habitat, we bundle a Unicorn-specific configuration file with each module \u2013 in line with the Helix principle that any assets relating to a module should be bundled and deployed with that module."),Object(o.b)("p",null,"If we had a feature module called \u2018Car\u2019, we\u2019d create a config patch in ",Object(o.b)("inlineCode",{parentName:"p"},"App_Config/Include/Feature called Feature.Car.Serialization.Config")),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-xml"}),'<configuration xmlns:patch="http://www.sitecore.net/xmlconfig/">\n <sitecore>\n  <unicorn>\n   <configurations>\n    <configuration name="Feature.Car" description="Feature Car" dependencies="Foundation.*" extends="Helix.Feature">\n     <rolePredicate>\n      <include domain="modules" pattern="^Feature Car .*$" />\n     </rolePredicate>\n    </configuration>\n   </configurations>\n  </unicorn>\n </sitecore>\n</configuration>\n')),Object(o.b)("p",null,"The key line setting up this configuration file is:"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-xml"}),'<configuration name="Feature.Car" description="Feature Car" dependencies="Foundation.*" extends="Helix.Feature">\n')),Object(o.b)("p",null,"Aside from the obvious name and description, dependencies tells Unicorn to run other configurations before this one (in our case, run any other configuration named ",Object(o.b)("inlineCode",{parentName:"p"},"Foundation.*")," first. Extends allows us to inherit from a parent config, Helix.Feature. This is a great feature which removes unnecessary code duplication in Helix solutions (which can have hundreds of modules!)"),Object(o.b)("p",null,"With this simple config (which extends the Helix.Feature abstract configuration), Unicorn will sync any Sitecore definition items under any folder called ",Object(o.b)("inlineCode",{parentName:"p"},"/Feature/Car")," in Sitecore. Happily, the ",Object(o.b)("inlineCode",{parentName:"p"},"Helix.Feature")," abstract config will ensure that Unicorn puts its ",Object(o.b)("inlineCode",{parentName:"p"},".yml")," files alongside the rest of your source code for the Car module. We can track down the configuration line which determines the serialization location in ",Object(o.b)("inlineCode",{parentName:"p"},"Unicorn.Helix.config"),":"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-xml"}),'<configuration name="Helix.Feature" abstract="true" extends="Helix.Base">\n <predicate>\n   <include name="Templates" database="master" path="/sitecore/templates/$(layer)/$(module)" />\n   <include name="Renderings" database="master" path="/sitecore/layout/renderings/$(layer)/$(module)" />\n   <include name="Media" database="master" path="/sitecore/media library/$(layer)/$(module)" />\n  </predicate>\n</configuration>\n')),Object(o.b)("p",null,"Read more about Unicorn configuration at ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://kamsar.net/index.php/2017/02/Unicorn-4-Part-III-Configuration-Enhancements/"}),"Kam\u2019s blog"),"."))}s.isMDXComponent=!0},97:function(e,n,t){"use strict";t.d(n,"a",(function(){return d})),t.d(n,"b",(function(){return m}));var r=t(0),i=t.n(r);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var u=i.a.createContext({}),s=function(e){var n=i.a.useContext(u),t=n;return e&&(t="function"==typeof e?e(n):c(c({},n),e)),t},d=function(e){var n=s(e.components);return i.a.createElement(u.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return i.a.createElement(i.a.Fragment,{},n)}},f=i.a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,o=e.originalType,a=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=s(t),f=r,m=d["".concat(a,".").concat(f)]||d[f]||p[f]||o;return t?i.a.createElement(m,c(c({ref:n},u),{},{components:t})):i.a.createElement(m,c({ref:n},u))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=t.length,a=new Array(o);a[0]=f;var c={};for(var l in n)hasOwnProperty.call(n,l)&&(c[l]=n[l]);c.originalType=e,c.mdxType="string"==typeof e?e:r,a[1]=c;for(var u=2;u<o;u++)a[u]=t[u];return i.a.createElement.apply(null,a)}return i.a.createElement.apply(null,t)}f.displayName="MDXCreateElement"}}]);